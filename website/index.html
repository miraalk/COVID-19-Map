<!DOCTYPE html>
<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<head>
    <title>COVID-19 Map</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">

    <link rel="stylesheet" type="text/css" href="style.css"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"/>
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">

    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
    <script type="text/javascript" src="res/postal_code_boundaries.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.rawgit.com/aparshin/leaflet-boundary-canvas/f00b4d35/src/BoundaryCanvas.js"></script>

</head>

<body>
<div id='header'>
    <div class='name_div'>
        <h3>Canadian Coronavirus Map</h3>
    </div>

    <div class="switch-field">
        <input type="radio" id="confirmed" name="layers" onclick="toggle_clicked(this)" value="confirmed" checked>
        <label for="confirmed">Confirmed Cases</label>

        <input type="radio" id="in_self_isolation" name="layers" onclick="toggle_clicked(this)"
               value="in_self_isolation">
        <label for="in_self_isolation">Potential Cases</label>

        <input type="radio" id="high_risk" name="layers" onclick="toggle_clicked(this)" value="high_risk">
        <label for="high_risk">Vulnerable Individuals</label>
    </div>
</div>

<!--The div element for the map -->
<div id="body">
<div id="map"></div>

<div id="update_time">
    <p></p>
</div>
</div>

<div class="footer">
    <div id="myBtn3" class="footer_element"> Instructions</div>
    <div id="myBtn1" class="footer_element"> About this map</div>
    <div id="myBtn2" class="footer_element"> About Us</div>
</div>

<!-- The Modal (pop up) -->
<div id="myModal1" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
        <span id="close1" class="close">&times;</span>
        <h3> About this map </h3>
        <p>
            This map displays a) confirmed COVID-19 cases b) individuals who are believed to be potential cases based on
            their form responses c) individuals who reported having previous medical conditions (ie. immunocompromised)
            and/or being over the age of 60.
        </p>
        <p>
            The purpose of this map is to inform government agencies and healthcare services. We hope that the data
            displayed on this map helps healthcare services optimize the use of their resources and protect the
            vulnerable individuals mentioned above.
        </p>
        <p>In order to ensure non-trolling we use cookies, recaptcha and track suspicious IP addresses. </p>

        <h3>How is this map segmented?</h3>
        <p>
            We differentiate regions by the first three digits of the postal code. 
            With the first three digits we ensure not to invade Canadians privacy, but still segment data to be granular and valuable. 
        </p>

        <h3>Data Sources:</h3>
        <ul>
            <li>Potential cases and vulnerable populations: <a href="https://www.flatten.ca/">flatten.ca</a></li>
            <li>Confirmed cases: COVID-19 Canada Open Data Working Group. Epidemiological Data from the COVID-19
                Outbreak in Canada.
                <a href="https://github.com/ishaberry/Covid19Canada">https://github.com/ishaberry/Covid19Canada</a></li>
        </ul>
    </div>
</div>


<div id="myModal2" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
        <span id="close2" class="close">&times;</span>
        <h3>About Us</h3>
        <p>We're a group of scientists, engineers and clinicians who have created an online form and map to provide
            information on the COVID-19 pandemic.</p>
        <p>You can reach us at <a href="mailto:flattenofficial@gmail.com">flattenofficial@gmail.com</a>.</p>
    </div>
</div>

<div id="myModal3" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
        <span id="close3" class="close">&times;</span>
        <h3>Instructions</h3>
        <p>Welcome to Flatten's Heatmap!</p>
        <p>To view information about your region, click on your municipality or postal code region! To easily locate yourself, let Flatten access your location.</p>
        <p><b>Confirmed Cases: </b>This tab displays all of the confirmed cases of COVID-19 in Canada. If a case's municipality
        is not reported, it's displayed at the center of the province. Data from COVID-19 Canada Open Data Working Group (see About this Map).</p>
        <p><b>Potential Cases: </b>This tab displays all of the potential cases of COVID-19 in Canada, based on data inputted into Flatten's form.</p>
        <p><b>Vulnerable Individuals: </b>This tab displays all individuals that are especially vulnerable to COVID-19 in Canada,
            based on data inputted into Flatten's form.</p>
        <p>In order to ensure non-trolling we use cookies, recaptcha and track suspicious IP addresses.</p>
    </div>
</div>

<!-- Firebase JS SDK -->
<script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.12.0/firebase-remote-config.js"></script>
<script src="/__/firebase/7.12.0/firebase-storage.js"></script>
<script src="/__/firebase/init.js"></script>


<script type="text/javascript" src="map.js"></script>
<script type="text/javascript" src="location.js"></script>
<script type="text/javascript" src="toggle.js"></script>
<script type="text/javascript" src="modal.js"></script>

</body>
</html>
